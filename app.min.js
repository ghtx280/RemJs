let blickData,blickWatches=[];const blickStore={};class BlickApp{data(e){return blickData=new Proxy(e,{get:(e,t)=>Reflect.get(e,t),set(e,t,i){let a=e[t];blickWatches.forEach((e=>{t!==e.var&&!0!==e.var||e.func(a,i)})),e[t]=i,update(t,a,i,t)}}),blickData}watch(e,t){blickWatches.push({var:e,func:t})}mounted(e){addEventListener("DOMContentLoaded",e)}}const end=(e,t)=>e.slice(0,-t),keywords="do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void",checkKeywords=(e,t)=>Boolean(e.split(",").filter((e=>t.includes(e))).length),js=e=>{if(t=keywords,i=String(e),!Boolean(t.split(",").filter((e=>i.includes(e))).length))return Object.keys(blickData).forEach((t=>{e.includes(t)&&!e.includes("blickData."+t)&&(e=e.replaceAll(t,"blickData."+t))})),Function(`return ${e}`)();var t,i},q=e=>document.querySelectorAll(e),attr=(e,t,i,a)=>"has"==i?e.hasAttribute(t):"set"==i?e.setAttribute(t,a):e.getAttribute(t);function parseAttr(e){const t=[],i=(e,i)=>t.push({prop:e,value:i}),a=e=>e.slice(0,e.indexOf(":")).trim(),r=e=>e.slice(e.indexOf(":")+1).trim(),l=t=>a(t||e).split("&").forEach((a=>{i(a.trim(),r(t||e))}));return e.includes(";")?e.split(";").forEach((e=>e.includes("&")?l(e):i(a(e),r(e)))):e.includes("&")?l():i(a(e),r(e)),t}function update(e,t,i,a){blickStore[e]?.forEach((i=>{if(i.bind&&parseAttr(i.bind).forEach((a=>{"class"==a.prop&&(a.prop="className"),"text"==a.prop&&(a.prop="innerText"),"this"==a.prop?blickData[a.value]!=i.el&&(blickData[a.value]=i.el):"className"==a.prop?void 0!==t?(t="string"==typeof t?`"${t}"`:t,i.el.classList.remove(js(a.value.replaceAll(e,t))),i.el.classList.add(js(a.value))):i.el.className.includes(js(a.value))||(i.el.className+=" "+js(a.value)):"innerText"==a.prop?blickData[a.value]!=i.el[a.prop]&&(blickData[a.value]=i.el[a.prop]):i.el[a.prop]=js(a.value)})),i.if&&(js(i.if)?i.el.append(...i.html):i.el.innerHTML=""),i.css&&parseAttr(i.css).forEach((e=>{i.el.style[e.prop]=js(e.value)})),i.in){let e=i.in,t=e.match(/\{([^}]+)\}/g),a=t.map((e=>e.slice(1,e.length-1).trim()));for(let i in t)e=e.replaceAll(t[i],js(a[i]));i.el.innerText=e}}))}document.addEventListener("DOMContentLoaded",(()=>{function e(e,t){Object.keys(blickStore).forEach((i=>{if(attr(e,t).includes(i)||e.innerText.includes(i)){let a={el:e};"in"===t?a[t]=e.innerText:("if"===t&&(a.html=Array.from(e.children)),a[t]=attr(e,t)),blickStore[i].push(a)}update(i)}))}blickData&&Object.keys(blickData).forEach((e=>{"function"!=typeof blickData[e]&&(blickStore[e]=[])}));const t="on,in,if,bind,css".split(",").map((e=>"["+e+"]")).join();var i;(i=t,document.querySelectorAll(i)).forEach((t=>{if(t.hasAttribute("in")&&(e(t,"in"),t.removeAttribute("in")),t.hasAttribute("if")&&(e(t,"if"),t.removeAttribute("if")),t.hasAttribute("css")&&(e(t,"css"),t.removeAttribute("css")),t.hasAttribute("bind")){let i="change",a=attr(t,"bind");(a.includes("value")||a.includes("checked"))&&parseAttr(a).forEach((e=>{"value"==e.prop&&(i="input"),t.addEventListener(i,(()=>{blickData[e.value]=t[e.prop]}))})),e(t,"bind"),t.removeAttribute("bind")}t.hasAttribute("on")&&(parseAttr(attr(t,"on")).forEach((e=>{t.addEventListener(e.prop,(function(){js(e.value)}))})),t.removeAttribute("on"))}))}));